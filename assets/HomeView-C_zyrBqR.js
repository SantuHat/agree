import{a as i,t as r}from"./telStore-PjltWJRN.js";import{_ as d,m as u,a as h,c as _,b as c,w as p,d as a,F as g,r as m,o as f}from"./index-DjtP-xU9.js";const w="/assets/0329-_08-%E7%BE%8E%E5%A6%9D-CdFTPxML.jpg";var P={VITE_APP_API_URL:"https://testappbackend.jutretail.com.tw/",VITE_APP_API_NAME:"lottery-registration",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API_NAME:l}=P,x={data(){return{userData:{tel:""},isRegistration:!1,type:"create",telId:0}},methods:{...u(r,["setTel","getTel"]),handleOrderSubmit(t){console.log(t),console.log("userData",this.userData),this.setTel(this.userData.tel),this.type==="create"?(this.postForm(),window.location="https://testappcrm.jutretail.com.tw/Pages/LuckyIndex.aspx"):this.type==="update"&&this.updateApi(this.telId)},updateInput(t){this.type=t,this.isRegistration=!1},getDate(){const t=`/api/${l}`;i.get(t).then(e=>{console.log(e.data),console.log(this.tel),this.getTel();const s=e.data;this.isRegistration=s.some(o=>(console.log("item",o),o.tel===this.tel&&(this.telId=o.id),o.tel===this.tel)),console.log("isRegistration",this.isRegistration)}).catch(e=>{console.log(e)})},postForm(){const t=`/api/${l}`;i.post(t,this.userData).then(e=>{console.log(e.data)}).catch(e=>{alert(e)})},updateApi(t){console.log("id",t);const e=`/api/${l}/${t}`;i.put(e,this.userData).then(s=>{console.log(s.data),alert("已完成修改"),window.location="https://testappcrm.jutretail.com.tw/Pages/LuckyIndex.aspx"}).catch(s=>{alert("此號碼已存在")})},goLuckyPage(){window.location="https://testappcrm.jutretail.com.tw/Pages/LuckyIndex.aspx"}},computed:{...h(r,["tel"])},created(){this.getDate()}},A=a("img",{src:"https://noke.jutretail.com.tw/images/logo.png",alt:"logo"},null,-1),D={class:"container"},E=a("img",{class:"w-100 d-block",src:w,alt:""},null,-1),I=a("button",{type:"button",class:"btn btn-primary my-5 d-block mx-auto"},"立即報名",-1);function k(t,e,s,o,y,R){const n=m("RouterLink");return f(),_(g,null,[c(n,{to:"/"},{default:p(()=>[A]),_:1}),a("div",D,[E,c(n,{to:"/registrate-finished",class:"form-group text-center mb-5"},{default:p(()=>[I]),_:1})])],64)}const T=d(x,[["render",k]]);export{T as default};
